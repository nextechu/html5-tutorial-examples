<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Detail page</title>

    <!-- Much of what you need is available on ASP.NET CDN -->
    <!--
    <link href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.1/css/jquery.dataTables.css"
        rel="stylesheet" />
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.2.min.js " type="text/javascript"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.1/jquery.dataTables.min.js"
        type="text/javascript"></script>
    -->

    <link href="Content/DataTables-1.9.1/media/css/jquery.dataTables.css" rel="stylesheet" />
    <link href="Content/DataTables-1.9.1/media/css/demo_page.css" rel="stylesheet" />
    <link href="Content/DataTables-1.9.1/media/css/demo_table.css" rel="stylesheet" />
    <script type="text/javascript" src="Scripts/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="Scripts/DataTables-1.9.1/media/js/jquery.dataTables.min.js"></script>

    <script type="text/javascript">
        var oTable;
        var giCount = 1;

        $(document).ready(function () {

            /* Add a click handler to the rows - this could be used as a callback */
            $("#myDataTable tbody tr").click(function (e) {
                if ($(this).hasClass('row_selected')) {
                    $(this).removeClass('row_selected');
                } else {
                    oTable.$('tr.row_selected').removeClass('row_selected');
                    $(this).addClass('row_selected');
                }

                var anSelected = fnGetSelected(oTable);
                var aData = oTable.fnGetData(anSelected[0]);
                $("#clickedon").html("<p>Clicked on " + aData[1] + "</p>");
            });

            /* Add a click handler for the delete row */

            $('#deleterow').click(function () {
                var anSelected = fnGetSelected(oTable);
                if (anSelected.length !== 0) {
                    oTable.fnDeleteRow(anSelected[0]);
                }
            });

            $('#addrow').click(function () {
                oTable.fnAddData([
		            "Big Data",
		            "Big Data in the Enterprise",
		            "Houston",
		            "January " + giCount,
                    "http://nolinkyet"]);
                giCount++;
            });

            /* Init the table */
            oTable = $('#myDataTable').dataTable({
                "bStateSave": true,
                "fnStateSave": function (oSettings, oData) {
                    alert("Saving state");
                    var jsonData = JSON.stringify(oData);
                    localStorage.setItem('DataTables', jsonData );
                },
                "fnStateLoad": function (oSettings) {
                    return JSON.parse(localStorage.getItem('DataTables')); 
                },
                "fnStateLoaded": function () {
                    alert("State Loaded");
                }
            });
        });

        /* Get the rows which are currently selected */
        function fnGetSelected(oTableLocal) {
            return oTableLocal.$('tr.row_selected');
        }

    </script>

</head>
<body id="dt_example">
    <input type="button" id="deleterow" value="Delete Row" />
    <input type="button" id="addrow" value="Add Row" />
    <div id="container">
        <table id="myDataTable" class="display">
            <thead>
                <tr>
                    <th>Event Group</th>
                    <th>Event Name</th>
                    <th>Event Location</th>
                    <th>Event Date</th>
                    <th>Registration Link</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>HTML5</td>
                    <td>HTML5 All Up</td>
                    <td>Denver, CO</td>
                    <td>Feb 3</td>
                    <td>http://nolinkyet</td>
                </tr>
                <tr>
                    <td>HTML5</td>
                    <td>HTML5 All Up</td>
                    <td>Chicago, IL</td>
                    <td>Feb 9</td>
                    <td>http://nolinkyet</td>
                </tr>
                 <tr>
                    <td>HTML5</td>
                    <td>HTML5 All Up</td>
                    <td>New York, Ny</td>
                    <td>Feb 22</td>
                    <td>http://nolinkyet</td>
                </tr>
                 <tr>
                    <td>HTML5</td>
                    <td>HTML5 with jQuery</td>
                    <td>London</td>
                    <td>Feb 9</td>
                    <td>http://nolinkyet</td>
                </tr>
                <tr>
                    <td>Cloud</td>
                    <td>Cloud Computing on Azure</td>
                    <td>Chicago, IL</td>
                    <td>May 9</td>
                    <td>http://nolinkyet</td>
                </tr>
                 <tr>
                    <td>Cloud</td>
                    <td>Cloud Computing on Azure</td>
                    <td>Chicago, IL</td>
                    <td>April 9</td>
                    <td>http://nolinkyet</td>
                </tr>
                <tr>
                    <td>HTML5</td>
                    <td>HTML5 Introduction</td>
                    <td>San Francisco, CA</td>
                    <td>Mar 9</td>
                    <td>http://nolinkyet</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div style="clear:  both"></div>
    <div id="clickedon"></div>
</body>
</html>
